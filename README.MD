# Projeto Docker - Microsservi√ßos e Containers

## üìñ Sobre o Projeto

Este projeto cont√©m uma s√©rie de desafios pr√°ticos para aprender Docker, Docker Compose e arquitetura de microsservi√ßos. Cada desafio apresenta conceitos progressivos, desde comunica√ß√£o b√°sica entre containers at√© arquiteturas complexas com API Gateway.

## üéØ Objetivos de Aprendizado

- Compreender containers Docker e isolamento de aplica√ß√µes
- Trabalhar com redes Docker e comunica√ß√£o entre containers
- Utilizar Docker Compose para orquestra√ß√£o de m√∫ltiplos servi√ßos
- Implementar arquiteturas de microsservi√ßos
- Entender padr√µes como API Gateway

## üìö Desafios Dispon√≠veis

### Desafio 1 ‚Äî Containers em Rede
**Conceitos**: Comunica√ß√£o entre containers, redes Docker customizadas  
**Descri√ß√£o**: Dois containers (servidor e cliente) se comunicam atrav√©s de uma rede Docker.

### Desafio 2 ‚Äî Aplica√ß√£o com Banco de Dados
**Conceitos**: Volumes Docker, persist√™ncia de dados, multi-stage builds  
**Descri√ß√£o**: Aplica√ß√£o que l√™ dados de um banco de dados SQLite em um volume Docker.

### Desafio 3 ‚Äî Aplica√ß√£o Web com Docker Compose
**Conceitos**: Docker Compose, orquestra√ß√£o de servi√ßos  
**Descri√ß√£o**: Aplica√ß√£o web simples orquestrada com Docker Compose.

### Desafio 4 ‚Äî Microsservi√ßos Independentes
**Conceitos**: Microsservi√ßos, comunica√ß√£o HTTP entre servi√ßos  
**Descri√ß√£o**: Dois microsservi√ßos independentes que se comunicam via HTTP.

### Desafio 5 ‚Äî Microsservi√ßos com API Gateway
**Conceitos**: API Gateway, centraliza√ß√£o de acesso, orquestra√ß√£o de chamadas  
**Descri√ß√£o**: Arquitetura com API Gateway centralizando o acesso a dois microsservi√ßos (usu√°rios e pedidos).

## üöÄ Como Executar um Desafio

### Pr√©-requisitos

Antes de come√ßar, certifique-se de ter instalado:

- **Docker**: [Instalar Docker](https://docs.docker.com/get-docker/)
- **Docker Compose**: Geralmente vem junto com o Docker Desktop

Para verificar se est√£o instalados:

```bash
docker --version
docker-compose --version
```

### Passo a Passo

1. **Navegue at√© a pasta do desafio desejado:**

   ```bash
   cd desafio[N√öMERO]
   ```

   Por exemplo:
   ```bash
   cd desafio5
   ```

2. **Leia a documenta√ß√£o do desafio:**

   Cada desafio possui um arquivo `README[N√öMERO].md` com explica√ß√µes detalhadas:
   
   ```bash
   # No Windows (PowerShell)
   cat README5.md
   
   # Ou abra o arquivo no seu editor
   ```

3. **Execute o desafio:**

   A maioria dos desafios usa Docker Compose. Para executar:

   ```bash
   docker-compose up --build
   ```

   O par√¢metro `--build` garante que as imagens sejam constru√≠das antes de iniciar.

   Para executar em background (detached mode):

   ```bash
   docker-compose up -d --build
   ```

4. **Teste os endpoints ou funcionalidades:**

   Cada desafio possui instru√ß√µes espec√≠ficas de teste no seu README.

5. **Parar os servi√ßos:**

   ```bash
   docker-compose down
   ```

## üí° Exemplo Pr√°tico: Desafio 5

Vamos executar o **Desafio 5 ‚Äî Microsservi√ßos com API Gateway** como exemplo completo:

### 1. Navegar at√© a pasta

```bash
cd desafio5
```

### 2. Subir os servi√ßos

```bash
docker-compose up --build
```

Voc√™ ver√° os logs dos tr√™s servi√ßos sendo iniciados:
- `service-users` (microsservi√ßo de usu√°rios)
- `service-orders` (microsservi√ßo de pedidos)
- `gateway` (API Gateway)

### 3. Verificar se os containers est√£o rodando

Em outro terminal:

```bash
docker-compose ps
```

Voc√™ deve ver tr√™s containers com status "Up".

### 4. Testar os endpoints

O gateway exp√µe a porta **8080**. Teste os endpoints:

```bash
# Listar todos os usu√°rios
curl http://localhost:8080/users

# Listar todos os pedidos
curl http://localhost:8080/orders

# Obter um usu√°rio espec√≠fico
curl http://localhost:8080/users/1

# Obter pedidos de um usu√°rio
curl http://localhost:8080/orders/user/1

# Health check do gateway e servi√ßos
curl http://localhost:8080/health
```

### 5. Ver os logs

Para acompanhar o que est√° acontecendo:

```bash
# Logs de todos os servi√ßos
docker-compose logs

# Logs apenas do gateway
docker-compose logs gateway

# Logs em tempo real (follow)
docker-compose logs -f
```

### 6. Parar os servi√ßos

Quando terminar:

```bash
docker-compose down
```

Para remover tamb√©m os volumes (se houver):

```bash
docker-compose down -v
```

## üìñ Documenta√ß√£o Detalhada

Cada desafio possui sua pr√≥pria documenta√ß√£o completa:

- `desafio1/README1.md` - Containers em Rede
- `desafio2/README2.md` - Aplica√ß√£o com Banco de Dados
- `desafio3/README3.md` - Aplica√ß√£o Web com Docker Compose
- `desafio4/README4.md` - Microsservi√ßos Independentes
- `desafio5/README5.md` - Microsservi√ßos com API Gateway

## üîß Comandos √öteis

### Docker Compose

```bash
# Subir servi√ßos
docker-compose up

# Subir em background
docker-compose up -d

# Reconstruir imagens
docker-compose up --build

# Parar servi√ßos
docker-compose down

# Ver logs
docker-compose logs

# Ver status dos containers
docker-compose ps

# Executar comando em um container
docker-compose exec [SERVI√áO] [COMANDO]
```

### Docker

```bash
# Listar containers rodando
docker ps

# Listar todas as imagens
docker images

# Ver logs de um container
docker logs [CONTAINER_NAME]

# Entrar em um container
docker exec -it [CONTAINER_NAME] /bin/bash

# Limpar recursos n√£o utilizados
docker system prune
```

## üìö Recursos Adicionais

- [Documenta√ß√£o Docker](https://docs.docker.com/)
- [Documenta√ß√£o Docker Compose](https://docs.docker.com/compose/)
- [Flask Documentation](https://flask.palletsprojects.com/)
- [Microservices Patterns](https://microservices.io/)

## üìù Estrutura do Projeto

```
projeto2_Docker/
‚îú‚îÄ‚îÄ desafio1/          # Containers em Rede
‚îú‚îÄ‚îÄ desafio2/          # Aplica√ß√£o com Banco de Dados
‚îú‚îÄ‚îÄ desafio3/          # Aplica√ß√£o Web com Docker Compose
‚îú‚îÄ‚îÄ desafio4/          # Microsservi√ßos Independentes
‚îú‚îÄ‚îÄ desafio5/          # Microsservi√ßos com API Gateway
‚îî‚îÄ‚îÄ README.md          # Este arquivo
```

---

**Bons estudos! üê≥**

